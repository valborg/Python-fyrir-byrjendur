\chapterimage{chapter_head_2.pdf} % Chapter heading image

\chapter{Listar}\index{Listar}\label{k:listar}
Listar eru gagnagrindur, sem þýðir að þeir geta geymt fyrir okkur hin ýmsu gögn og gert okkur þau aðgengileg á ákveðinn máta.
Listar eru skilgreindir með hornklofum [ ] og er lykilorðið þeirra \textbf{list}.

\section{Listar skilgreindir}\index{Listar skilgreindir}\label{uk:listar-skilgreindir}
Listar geyma, í ákveðinni röð, þau gögn sem við viljum geyma sem mega vera af hvaða týpu sem er.
Gögnin sem eru sett inn í listann eru kölluð stök og röðin sem þau eru í eru aðgengileg eftir vísum eða sætisnúmerum alveg eins og strengir.
Stökin eru aðgreind með kommum.
Þær týpur sem við höfum séð hingað til eru heiltölur, fleytitölur, strengir og listar.
Allt eru þetta möguleg stök í lista.

\begin{lstlisting}[caption=Listar skilgreindir, label=lst:listar-skilgreindir]
# Fyrsti listinn okkar er tómur
listinn_minn = []

# þegar við skilgreinum lista aðgreinum við stökin með kommum
nyr_listi = ["núllta stakið", 1, 2, 3.0, "fjórða stakið", [5]]
\end{lstlisting}

Í kóðabút \ref{lst:listar-skilgreindir} sjáum við að við erum með 6 stök í listanum nyr\_listi sem er skilgreindur í línu 6 \todo{passa að breyta ekki kóðabút til að þessi vísun haldist}.
Fremsta stakið er strengur, næstu þrjú eru tölur, síðan kemur annar strengur og síðasta stakið í sæti 5 er listi.
Sá listi inniheldur eitt stak sem er þá í núllta vísi í þessum innri lista.

Ef við hugsum okkur töflureikni eins og Calc eða Excel þá getum við ímyndað okkur að ein lína sé eins og einn listi, hver dálkur er stak í listanum og ein röð er listinn sem heldur utan um þau.
Þá getum við líka ímyndað okkur að ef við erum með margar raðir séu þær geymdar á einni örk eða einu skjali.
Sjáum hvernig það myndi líta út í kóðabút \ref{lst:listar-arkir}

\begin{lstlisting}[caption=Listar af listum, label=lst:listar-arkir]
# Ef við ættum skjal í töflureikni sem héldi utan um allt starfsfólk í fyrirtæki gæti hausinn á því litið svona út:
# Nafn Tölvupóstur Deild Símanúmer 

# Svo er hver röð fyrir neðan það útfyllt með upplýsingum um einhvað tiltekið starfsman, t.d.:
# Jóna Jónsdóttir jona@fyrirtaeki.is Póstur 4445555

# Ef þetta væri útfært í Python með listum væri það gert svona:

starfsfolk = [["Jóna Jónsdóttir", "jona@fyrirtaeki.is", "Póstur", "4445555"],
			  ["Kristján Kristjánsson", "kristjan@fyrirtaki.is","Laun","4445589"],
			  ["Halldóra Halldórudóttir", "halldora@fyrirtaeki", "Skrifstofa", "4445500"]]

\end{lstlisting}

Við tökum eftir því að listinn starfsfolk í kóðabút \ref{lst:listar-arkir} í línu 9 inniheldur þrjá aðra lista, og þeir eru aðgreindir með kommum alveg eins og stökin inni í hverjum innri lista fyrir sig eru einnig aðgreind með kommum.
Einnig tökum við eftir því að hér sjáum við í fyrsta sinn inndrátt, það er í raun bara aukalegt bil sem vélin hunsar við að skilgreina breytuna starfsfolk og er því fyrir okkur til að geta lesið kóðann auðveldlegar.
Þetta er ekki eins og inndrátturinn sem við munum sjá og beita í næsta kafla, \nameref{k:segðir}.
 
\section{Að vinna með gögn}\index{Að vinna með gögn}\label{uk:gagnavinnsla-listar}
Þegar við geymum gögn viljum við að þau séu aðgengileg og að við getum skoðað þau, breytt þeim og unnið með á máta sem hentar okkur.
Listar gera okkur kleyft að nálgast gögn eftir sætisvísum.
Við náum í gögn upp úr lista eftir sætisvísi alveg eins og við sóttum tiltekið tákn úr streng, með því að nota hornklofa og það sætisnúmer sem við vildum.
Hér þurfum við að athuga að við viljum ekki ruglast á því að skilgreina lista með hornklofum og að sækja gögn úr lista eða streng með hornklofum.
Í fyrra tilfellinu standa hornklofarnir einir og sér, þar sem við erum að skilgreina nýjan lista.
Í seinna tilfellinu standa hornklofarnir fyrir aftan þá breytu sem á að sækja gögn upp úr með ákveðnum sætisvísum.
Sjáum dæmi.

\begin{lstlisting}[caption=Listar af listum, label=lst:listar-gogn-sott]
# listi skilgreindur
[1,2,3]

# listi skilgreindur og geymdur í breytu
listinn = [1,2,3, "langur strengur sem hefur einnig sætisnúmer"]

# gögn sótt upp úr listanum
listinn[1] # skilar okkur tölunni 2

# Við getum líka sótt gögn upp úr þeim gögnum sem leyfa það
listinn[3][0] # skilar okkur stafnum l
\end{lstlisting}

Við sjáum í kóðabút \ref{lst:listar-gogn-sott} í línu 11 að þar erum við að keðja (e. to chain) hornklofana okkar.
Þetta megum við því að listinn[3] skilar okkur til baka strengnum "langur strengur sem hefur einnig sætisnúmer" og við megum sækja úr honum stak númer 0 sem er aðgengilegt með því að gera [0] fyrir aftan listinn[3].
Þetta gagnast okkur sérstaklega þegar við lítum aftur á starfsmanahaldið okkar hér á undan og viljum geta sótt gögn upp úr innri listum.
Sjáum hvernig við getum fengið upplýsingar sem eru skráðar um tiltekið starfsman úr listanum sem við geymdum í kóðabút \ref{lst:listar-arkir}.

\begin{lstlisting}[caption=Unnið með gögn úr lista, label=lst:listar-gagnanotkun]
print(starfsfolk[0])

# þetta skilar okkur 
["Jóna Jónsdóttir", "jona@fyrirtaeki.is", "Póstur", "4445555"]

print(starfsfolk[0][0])
# þetta skilar
"Jóna Jónsdóttir"
# þar sem nafnið hennar er 0 stakið í innri listanum
\end{lstlisting}

\subsection{Listar eru breytanlegir}
Nú allt í einu munum við að Jóna er ekki Jónsdóttir heldur Alfreðsdóttir og við þurfum að laga það, við þurfum ekki að skilgreina listann allann upp á nýtt (sem við hefðum þurft að gera ef við værum með streng) heldur þurfum við bara að setja nýtt gildi inn fyrir það sem heldur utan um nafnið hennar Jónu.

\begin{lstlisting}[caption=Unnið með gögn úr lista, label=lst:listar-gagnabreyting]
print(starfsfolk[0][0])

# við munum að þetta skilar 
"Jóna Jónsdóttir"
# en við munum að nafnið var óvart vitlaust skráð svo við breytum því

starfsfolk[0][0] = "Jóna Alfreðsdóttir"
# þetta skilar okkur engu því að við vorum hér að skilgreina eitthvað, segja tölvunni að geyma eitthvað
# en við erum búin að endurskilgreina starfsfolk listann og ef við köllum í hann núna sjáum við að hann er breyttur

print(starfsfolk) 
# þetta skilar 
[["Jóna Alfreðsdóttir", "jona@fyrirtaeki.is", "Póstur", "4445555"], ["Kristján Kristjánsson", "kristjan@fyrirtaki.is","Laun","4445589"], ["Halldóra Halldórudóttir", "halldora@fyrirtaeki", "Skrifstofa", "4445500"]]
\end{lstlisting}

\section{Gagnlegar aðferðir á lista}\index{Aðferðir á lista}\label{uk:aðferðir-listar}

Eins og tekið var fram í kaflanum um strengi þá er ekki ætlunin að fara yfir allar þær innbyggðu aðferðir sem til eru fyrir lista heldur draga fram nokkrar sem eru mjög gagnlegar til að auka skilning á notkun á aðferðum.

Gefum okkur að við eigum listann [0,2,1,3] sem er geymdur í breytunni listinn\_minn

\begin{itemize}
	\item listinn\_minn.pop() 
	\begin{itemize}
		\item það sem þetta gerir er að breyta listanum og skila staki.
		\item gildið sem það skilar er aftasta stakið úr listinn\_minn.
		\item 3 er gildið sem það skilar í okkar tilfelli svo listinn\_minn verður að [0,2,1].
		\item hægt er að geyma það með því að gera x = listinn\_minn.pop() og þá inniheldur x töluna 3.
		\item einnig er hægt að setja inn sætisnúmer sem viðfang og þá er stakið í því sæti fjarlægt og listinn dregst saman, sjá kóðabút \ref{lst:listar-pop}.
	\end{itemize}
	\item listinn\_minn.append(x)
	\begin{itemize}
		\item það sem þetta gerir er að breyta listanum þannig að búið er að bæta breytunni x aftast í listann.
		\item þessi aðferð skilar engu til baka til okkar svo það er ekkert vit í því að skrifa listi = listinn\_minn.append(4)
		\item segjum að x hafi verið stillt sem talan 4 þá lítur listinn núna svona út [0,2,1,3,4] (ef við gerum ráð fyrir að hafa ekki keyrt neinar aðrar aðferðir á hann).
		\item þessi aðferð verður að fá eitt viðfang og nákvæmlega eitt viðfang, sem er af hvaða gagnatýpu sem er, svo við gætum sett inn einn lista sem inniheldur 100.000 stök en það er nákvæmlega einn listi.
		\item sjá notkun í kóðabút \ref{lst:listar-append}
	\end{itemize}
	\item listinn\_minn.sort()
	\begin{itemize}
		\item það sem þetta gerir er að raða listanum í röð með samanburðarvirkjum (þeir verða kynntir í kafla \nameref{k:segðir}), og stökin í listanum þurfa þá að vera samanburðarhæf.
		\item aðferðin raðar listanum í röð frá lægsta gildi til hæsta gildis, það er okkur tamt þegar við skoðum talna lista en í því tilfelli að listinn innihaldi bara strengi þýðir það að listanum er raðað í stafrófsröð sem er skilgreind eftir því táknakerfi sem Python notar.
		\item listinn\_minn.sort myndi gera það að verkum að hann sé nú geymdur sem [0,1,2,3] (gerum ráð fyrir að við höfum ekki keyrt neinar aðrar aðferðir á hann).
		\item aðferðin skilar engu svo það er ekkert vit í því að gera x = listinn\_minn.sort()
		\item sjá notkun í kóðabút \ref{lst:listar-sort}.
	\end{itemize}
	
\end{itemize}