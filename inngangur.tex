\chapterimage{chapters0.png} % Chapter heading image



\chapter{Inngangur}

\section{Tilgangur bókarinnar}\index{Tilgangur Python}

Þessi bók fjallar um þau undirstöðuatriði sem þarf að kynna til að ná tökum á forritun í Python. 
Höfundi finnst mikilvægt að kenna námsefnið með íslenskum hugtökum þar sem ætlunin er að nota hana í kennslu í íslenskum framhaldsskólum. 
Ef nemendur ætla að leggja fyrir sig tölvunarfræði í framhaldsnámi er nauðsynlegt að búa yfir ríkulegu íðorðasafni, sérstaklega ef nemandi hyggst framfleyta fræðunum. 
Hugtök verða þó líka sett fram á ensku ef lesandi vill fletta upp ítarefni sem meira er til af á netinu á ensku en íslensku.

Það er algengur misskilningur að forritarar kunni rosalega mörg forritunarmál, eins og fólk sem getur talað mörg tungumál, eða að það geri þig að góðum forritara að kunna rosalega mörg mál.
Þvert á móti.
Hæfni og leikni í einu máli má auðveldlega yfirfæra á önnur mál sé þess þörf.
Þess vegna er út í hött að spyrja: ,,hvað kanntu mörg forritunarmál?“
Forritunarmál eru formleg mál og eitt hlutbundið mál er nær því að vera jafn frábrugðið öðru í grunninn eins og mállýskur innan tungumála.
Nær væri að spyrja hvort viðkomandi hafi meiri áhuga á framenda- eða bakendaforritun, hvert skemmtilegasta reikniritið er sem viðkomandi hefur útfært eða hvaða forritunarmál viðkomandi notar oftast.

Einnig er það algengur misskilningur að það fyrsta sem fólk geri sé að búa til tölvuleik.
Það þarf mikla undirstöðukunnáttu til þess að geta búið til tölvuleiki, alveg eins og það þarf að læra stafrófið áður en hafist er handa við að skrifa bók.
Mörgum finnst þessi grunnvinna vera leiðigjörn.
Að mati höfundar er það vegna þess að við erum svo vön því að nota tölvur dagsdaglega, svo fræðigreinin sem tæknin byggir á hlýtur líka að vera okkur kunnug, ekki satt?
Nei, alveg eins og dýralækningar eru okkur ekki eðlislægar ef við eigum gæludýr og pípulagnir heldur ekki þó við notum klósett.
Innan tölvunnar eru ákveðnar grunneiningar sem eru notandanum ekki augljósar, af góðri ástæðu, það væri hrikalegt ef við þyrftum öll að vera píparar til þess að geta notað klósett.
Þó að þessi samlíking hafi verið heldur gróf þá sýnir hún að það eru svo margir hlutar sem eru okkur huldir að við hreinlega vitum ekki hvað við vitum ekki.
Því er nauðsynlegt að læra grunninn vel og fara rólega yfir hann svo þegar við ætlum að afrita og líma kóða frá síðum eins og stackoverflow vitum við að minnsta kosti hvað sá kóði gerir (nokkurn veginn).

Það er gífurlega mikilvægt að kunna að nota tólin sem við nýtum okkur til þess að við getum gert það skynsamlega.
Í dag eru fartölvur mun öflugri en tölvan sem kom fólki á tunglið upphaflega en þó er ósennilegt að margar þeirra séu nýttar í eins flókna hluti og geimferðir.
Hins vegar lendum við oft í því að þurfa að leysa einhver tiltekin verkefni og ef við gætum nýtt okkur vélaraflið betur værum við sneggri að því.

Það síðasta sem er þess virði að taka fram er mikilvægi opins (e. open source) og frjáls (e. free) hugbúnaðar.
Þessi bók er gefin út undir Creative Commons 3.0\todo{hvaða leyfi er ég að nota} leyfi sem þýðir að hver sem er má afrita hana, prenta hana og nota með því skilyrði að afleidd verk vísi til höfundar en að óheimilt sé að hagnast á efninu.

Internetið eins og við þekkjum það myndi gæti ekki keyrt ef ekki væri fyrir framlög forritara sem viðhalda opnum hugbúnaði.
Stefnan í heiminum í dag virðist þó vera í áttina að lokuðum réttindavörðum hugbúnaði sem er mjög miður. 

Það að hugbúnaður sé opinn þýðir að hver sem er getur skoðað kóðann á bak við hann, gert breytingar og deilt með öðrum.
Hugmyndin á bak við frjálsan hugbúnað er svipuð nema lagt er upp með þá hugmynd að það sé siðferðisleg skylda fólks að hugbúnaður sé sem aðgengilegastur því frelsi í hugbúnaði skilar sér í frjálsara samfélagi.

\section{Hvers vegna Python?}\index{Hvers vegna Python?}

Ástæður þess að Python er gott mál til þess að byrja á að skoða eru eftirfarandi:\footnote{Strax í þessum texta koma fyrir hugtök sem verða skýrð betur seinna, ekki missa kjarkinn.}

\begin{enumerate}
	\item \textit{Málskipanin} er mjög svipuð mannlegu máli svo það ætti að vera auðvelt að læra að ,,tala“ við tölvuna.
	\item  Python er \textit{kvikt tagað} forritunarmál, það þýðir að notandinn þarf ekki að gefa upp hvers konar \textit{gagnatýpur} er unnið með. 
	Þetta gerir það að verkum að notandinn þarf ekki að læra urmul af lykilorðum áður en byrjað er að forrita.
	\item  Python er ekki alveg \textit{hlutbundið} forritunarmál, sem gerir það að verkum að notandinn þarf ekki að læra hvernig á að beita hlutbundinni forritun fyrr en góð undirstaða er þegar komin.
	\item Python er frítt og aðgengilegt öllum helstu stýrikerfum.
	Einnig er hægt að forrita í vafra og því óþarfi fyrir notandann að setja nokkuð upp frekar en viðkomandi vill.
	\item Python er æðra forritunarmál (e. high level programming language), ekki það að margir séu að kenna vélamál í dag.
	\item Python er mikið notað og algengt mál og þess vegna er praktískt að hafa undirstöðuskilning á því.
	\item Málið er nefnt eftir Monty Pyhton grínhópnum.
\end{enumerate}

\section{Uppsetning}\index{Uppsetning}
Uppbygging bókarinnar er þannig að fyrri hlutinn snýr að því að kynna lesandann fyrir grunnvirkni Python; málskipan, lykilhugtökum og lykilorðum, gagnatýpum, skilyrðum, lykkjum og föllum.
Seinni hlutinn snýr svo að því að beita þekkingu úr fyrri hlutanum í hlutbundinni forritun, þar verða kynntir til sögunnar klasar og aðferðir sem lesandinn útfærir upp á eigin spýtur.
Í lok hvers kafla eru svo verkefni til að reyna á leikni lesandans, lausnir við þeim öllum má finna í lausnarhluta aftast í bókinni.

Ekki er búist við neinni fyrri kunnáttu við lestur þessarar bókar, hún á að geta staðið fyrir sínu án þess að lesandinn búi yfir nokkurri þekkingu á sviði tölvunarfræði eða forritunar.
Ef slík þekking er fyrir hendi gæti lesandanum þótt ágætt að fara hratt í gegnum fyrri hluta bókarinnar og einbeita sér að verkefnum úr seinni hlutanum.

Víðs vegar um bókina má finna númeraða kóðabúta.
Þeir eru frumstæðir og ekki með marglitri kóðalitun, en þeir eru betri en skjáskot úr vinnubókum.
Afritið kóðann úr þessum bútum og keyrið sjálf, sannreynið að úttakið sé eins og gerið tilraunir.
\lstset{style=uttak}
\lstset{style=venjulegt}
\begin{lstlisting}[caption=Kóðabútar kynntir til sögunnar]
# Svona líta kóðabútar út
# Kóðann má allan afrita og keyra til að sjá þá virkni sem verið er að kynna
\end{lstlisting}
\lstset{style=uttak}
\begin{lstlisting}
# Svona lítur svarið út þegar kóðabúturinn fyrir ofan er keyrður
# Notið úttakið til að bera saman við eigin niðurstöður
\end{lstlisting}
\lstset{style=venjulegt}

Einnig eru á nokkrum stöðum stuttar efnisgreinar af ítarefni sem er ekki nauðsynlegt að hafa fullan skilning á en þó gott að skoða, sérstaklega fyrir þá lesendur sem vilja leggja frekara nám í tölvunarfræðum fyrir sig.
Þær líta svona út:

\begin{itarefni}
\textbf{Titill á ítarefni}
Þennan texta má leiða hjá sér við flýtilestur en gott að hafa skilning á ef lesandi vill ná góðum tökum á efninu.
\end{itarefni}

\section{Að keyra kóða}\index{Að keyra kóða}\label{uk:keyra-koda}

Það fyrsta sem nemendur vilja yfirleitt gera er að byrja að skrifa sinn eigin kóða. 
Áður en við komumst svo langt þarf að útskýra hvernig það er gert. 
Þessi kennslubók byggir á notkun Jupyter Notebooks með hjálp Anaconda hugbúnaðarins, sem er öflugt pakkakerfi og tólakista sem hefur upp á mikið meira en bara Jupyter að bjóða. 
Hægt er að nálgast Anaconda á \href{www.anaconda.com}{anaconda.com}.
Hægt er að nota Jupyter án þess að ná í Anaconda með síðum eins og \href{www.cocalc.com}{cocalc.com}. 
Einnig er hægt að keyra kóða á netinu í gegnum síður eins og \href{www.repl.it}{repl.it}, nota ritla (eins og Notepad eða Sublime) og keyra .py skrár í skipanalínu eða nota þyngri umhverfi eins og pycharm sem eru sérhönnuð fyrir hugbúnaðarþróun.

Jupyter er byrjendavænt umhverfi og því eru verkefnin sem fylgja þessari bók sett upp í Jupyter vinnubókum, sem lesandinn getur nýtt sér. 
Virkninni er skipt upp í sellur og keyrsluröð sellanna skiptir máli, við sjáum seinna mikilvægi þess að geta skipt kóða svona upp og hvers vegna þetta umhverfi er þægilegt til að byrja í. 
Hver sella hefur aðgang að svokölluðu skilgreiningarsvæði vinnubókarinnar en er þó sín eigin eining.
Því má keyra eina sellu í einu án þess að keyra allan kóðann í vinnubókinni.
Þetta er þægilegt ef upp kemur villa í einni sellu, þá hefur ekki áhrif á neina aðra sellu og við getum haldið áfram.

Við keyrslu á kóða þarf einnig að hafa í huga að tölvan gerir nákvæmlega það sem við segjum henni að gera og ekkert annað.
Og þá komum við niður á stórt vandamál, að tölvur eru mjög bókstaflegar og vitlausar.
Þær skortir allt vit, þær reyna ekki að hafa vit fyrir okkur. 
Þær gera nákvæmlega það sem við biðjum um.
Nákvæmlega eins og við biðjum um það.

Ef ég ætlaði að segja tölvu að smyrja handa mér hnetusmjörs- og sultusamloku þá þyrfti ég þannig að segja vélinni að gera eftirfarandi í nákvæmlega þessari röð:
\vspace{0.4cm}
\begin{enumerate}
	\item taka fram hníf
	\item taka fram tvær brauðsneiðar
	\item opna hnetusmjörið
	\item setja beitta enda hnífsins ofan í hnetusmjörið þannig að hann nái upp 50 gr. af hnetusmjöri
	\item setja hnetusmjörið sem er á hnífnum á miðja brauðsneiðina
	\item nota hnífinn til þess að smyrja hnetusmjörinu á þá hlið sem hnetusmjörið er nú þegar á og enga aðra
	\item taka fram skeið
	\item opna sultuna
	\item setja kúpta enda skeiðarinnar ofan í sultukrukkuna 
	\item taka skeiðina upp úr sultukrukkunni með kúfaða skeið af sultu
	\item setja sultuna á hina brauðsneiðina
	\item nota skeiðina til að smyrja sultunni yfir þá hlið brauðsneiðarinnar sem sultan er á og enga aðra hlið
	\item  setja brauðsneiðarnar saman þannig að hnetusmjörið og sultan snertist og hornin mætist öll. 
\end{enumerate} 
\vspace{0.4cm}
Takið eftir að hér er gert ráð fyrir þó nokkru og ef vélin kann ekki nú þegar skil á eftirfarandi mun þetta klúðrast: 
\vspace{0.2cm}
\begin{enumerate}
	\item taka fram
	\item hnífur
	\item opna
	\item mæla 50 gr.
	\item smyrja
	\item hlið á brauðsneið
	\item miðja á brauðsneið
	\item skeið
	\item kúfað
\end{enumerate} 
\vspace{0.2cm}

Þessi útskýring á samlokugerð kann að vera alveg ofboðslega og óþarflega nákvæm og þrátt fyrir það er ekki víst að úr þessu verði nokkur samloka.
Þetta könnumst við öll við, að tölvur gera það sem þeim er sagt, ekki það sem við viljum.

Helsta verkefni forritara er að búta niður verkefni í svo litla hluta að hægt er að útskýra þá fyrir tölvu.
Ekki búast við því að setjast niður við fyrsta verkefni og ætlast svo til að búa til tölvuleik eða hakka banka.
Forritun er einnig frábrugðin þeirri venjulegu tölvunotkun sem við höfum vanist dagsdaglega.
Þá erum við ekki að gefa tölvunni okkar eigin skipanir heldur að beita skipunum sem aðrir forritarar hafa samið og sett upp í hugbúnaðinn sem við erum að nota.

%------------------------------------------------

\section{Málskipan}\index{Málskipan}

\textbf{Málskipan} (e. syntax) er safn þeirra reglna sem við þurfum til þess að skrifa kóða sem tölvan skilur svo að hann þýðist í vélamál, þær reglur sem við þurfum að fara eftir þegar við forritum, þær reglur sem forritunarmálið býst við að við förum eftir. 
Ef við brjótum þessar reglur fáum við villu, og einhver algengasta villa sem hægt er að fá er málskipanarvilla (e. syntax error). 
Python er frábrugðið öðrum forritunarmálum á þann hátt að málskipanin krefst þess að kóðinn sé settur upp á ákveðinn hátt. 
Því má líkja við að þurfa ekki að hafa greinarmerki í huga þegar við ljúkum setningum heldur setjum við orðin okkar á réttan stað í samræðum.

\subsection{Uppsetning á kóða}\index{Uppsetning á kóða}
Þessi kóðabútur er þannig uppsettur að allar línur byrja jafnlangt til vinstri.
Eins og heil setning í töluðu máli stendur hver lína fyrir sínu, ein og sér.
\begin{lstlisting}[caption=Réttur Python kóði, label=lst:inng-kóðadæmi]
# Réttur Python kóði sem keyrist
4 + 8
5 + 6
breyta = 9 * 2
\end{lstlisting}

Næsti kóðabútur sýnir dæmi um villur til þess að sýna nokkur algeng byrjendamistök.
Ekki hafa áhyggjur af því að sjá ekki endilega hvað það er sem er að, hér er einungis verið að sýna dæmi um slæma uppsetningu og illa skrifaðan kóða.

Við munum skilja seinna hvað það er sem veldur villum, í kóðabútum verður tekið fram hvort kóði valdi villu og annað hvort er línan sem veldur villunni gerð að athugasemd eða villan látin vera og úttakið sýnir villuskilaboð.

\begin{lstlisting}[caption=Rangur Python kóði sem veldur villu, label=lst:inng-malskipanarvilla]
# Illa skrifaður Python kóði sem keyrist ekki
4 + 8. # punkturinn veldur málskipanarvillu
	5 + 6 # inndrátturinn hér er rangur
breyta = 9 * 2 * # málskipanarvilla fæst hér því síðasta táknið er á röngum stað
\end{lstlisting}

Svona inndrætti er einungis beitt ef lína á beinlínis að hanga undir línunni að ofan og tilheyra henni, eins og kommusetning sem getur ekki staðið ein og sér og er háð samhengi setningarinnar sem hún tilheyrir.
Þess vegna þarf að huga að því hvernig Python kóði er uppsettur. 
Í öðrum málum eru notuð greinarmerki til að segja tölvunni að lína sé búin og að aðrar línur eigi að heyra undir eitthvað ákveðið samhengi.
Í Python er treyst á að forritarinn setji kóðann upp á máta sem hægt er að sjá að sé réttur. 
Hér er dæmi um hvernig línur geta verið aðgreindar í öðrum málum:

\begin{lstlisting}[language=Java , caption=Dæmi um annað mál sem er strangt tagað og með greinarmerkjum]
// Dæmi um kóða í forritunarmálinu Java
int i = 7;
i + 5;

// Þetta myndi líka ganga í Java en ekki í Python
int i = 7; i + 5;
\end{lstlisting}

\begin{lstlisting}[language=Lisp, caption=Dæmi um annað mál sem byggir á afmörkuðu samhengi og er með greinarmerkjum]
; Lisp
(setq x 10)
(setq y 34.567)

(print x)
(print y)
\end{lstlisting}

Í þessum tveimur frábrugðnu málum sem voru tekin sem dæmi var óþarfi að setja kóðann í mismunandi línur, því greinarmerkin væru nóg til að aðgreina hverja línu fyrir sig. 
Hins vegar er það góð venja að skrifa kóða sem er læsilegur öðru fólki. Í Java eru greinarmerkin semíkommur (;) en í Lisp eru línur og samhengi afmörkuð með svigum. 
Python byggist hins vegar á því að forritarinn stilli öllu upp rétt með réttum inndrætti. 

\subsection{Gagnatýpur og lykilorð}\index{Gagnatýpur og lykilorð}

Í Python eru nokkrar grunngagnatýpur sem við munum kynnast í þessari bók. 
Ástæðan fyrir því að þær eru kallaðar grunntýpur er sú að þær fylgja með Python uppsetningunni og notandinn getur beitt þeim í samræmi við það sem þær eru færar um, sem má skoða í skjölun Python \href{https://www.python.org/doc/}{https://www.python.org/doc/}. 
Týpa eða tag er hugtak sem þýðir að hlutur sé af einhverri ákveðinni tegund sem má framkvæma ákveðnar aðgerðir á
Í þessari bók verða týpur ýmist kallaðar það eða tög. 
Lesandi þekkir muninn á orðum og tölum úr daglegu tali og veit að hægt er að framkvæma mismunandi aðgerðir á þessum mismunandi týpum, eins og hægt er að skipta út hástöfum fyrir lágstafi í orðum en ekki tölum og hægt er að hefja tölur í veldi en ekki orð. 
Að sama skapi eru til aðgreinanlegar týpur sem tölvan kann skil á og leyfir ákveðnar aðgerðir á.
Í fyrri hluta þessarar bókar verða gerð skil á tveimur talnatýpum (heiltölum og fleytitölum), strengjum, listum, sanngildum, orðabókum (einnig kallaðar hakkatöflur), nd-um og mengjum.

Lykilorð eru orð sem eru frátekin og birtast þau græn í Jupyter vinnubók. 
Hver gagnatýpa hefur eitt lykilorð og eru einnig nokkur innbyggð föll í Python, sem við kynnumst fljótlega, með frátekin orð. 
Forðast skal að yfirskrifa þessi lykilorð, en ef það gerist þá er auðvelt að laga það í Jupyter. 
Hver vinnubók hefur sinn kjarna til að vinna á og það eina sem þarf að gera í aðstæðum þar sem innbyggt orð er allt í einu farið að þýða eitthvað annað þá dugir að endurræsa kjarnann.
Kjarninn í vinnubókinni er sá túlkur eða þýðandi sem er verið að nota til þess að láta tölvuna skilja kóðann.
Í okkar tilfelli erum við að nota Python 3.